# CupidsShield Moderation Configuration

# Confidence thresholds for decision-making
confidence_thresholds:
  auto_approve: 0.90  # >= 90% confidence → auto-approve
  auto_reject: 0.85   # >= 85% confidence → auto-reject
  escalate: 0.70      # < 70% confidence → escalate to human review

# Policy rules and actions
policy_rules:
  harassment:
    description: "Threats, intimidation, hate speech, and bullying"
    severity_levels:
      - low        # Single instance of mild rudeness
      - medium     # Persistent unwanted contact
      - high       # Direct threats or hate speech
      - critical   # Imminent danger or extreme harassment
    actions:
      low: warn
      medium: temp_ban_24h
      high: temp_ban_7d
      critical: permanent_ban
    keywords:
      - "threat"
      - "kill"
      - "hurt"
      - "hate"
      - "stalk"

  scams:
    description: "Financial fraud, romance scams, and pig butchering"
    severity_levels:
      - low        # Suspicious but unconfirmed
      - medium     # Clear scam indicators
      - high       # Active financial request
      - critical   # Large-scale scam operation
    actions:
      low: flag_for_review
      medium: permanent_ban
      high: permanent_ban
      critical: permanent_ban_and_report
    pig_butchering_indicators:
      - financial_requests        # Asking for money, gift cards, crypto
      - rapid_intimacy           # Love bombing, marriage talk too soon
      - offplatform_communication # Moving to WhatsApp, Telegram quickly
      - sob_stories              # Sick relative, emergency needs
      - investment_opportunities  # Crypto tips, trading advice
      - reluctance_to_meet       # Always has excuses for not meeting
    keywords:
      - "money"
      - "gift card"
      - "bitcoin"
      - "investment"
      - "emergency"
      - "hospital"

  fake_profile:
    description: "Inauthentic profiles with fake photos or information"
    severity_levels:
      - low        # Minor inconsistencies
      - medium     # Likely fake (stock photos)
      - high       # Confirmed fake (celebrity photos)
      - critical   # Catfishing with malicious intent
    actions:
      low: request_verification
      medium: suspend_until_verified
      high: permanent_ban
      critical: permanent_ban
    red_flags:
      - stock_photos          # Professional/stock imagery
      - celebrity_images      # Famous people
      - inconsistent_info     # Age, location contradictions
      - too_good_to_be_true   # Model-quality photos only
      - minimal_bio          # Very little personal info
    keywords:
      - "model"
      - "professional"
      - "agent"

  inappropriate:
    description: "Sexually explicit or graphic content"
    severity_levels:
      - low        # Suggestive but not explicit
      - medium     # Clear sexual content
      - high       # Explicit nudity or solicitation
      - critical   # Illegal content
    actions:
      low: warn_and_remove
      medium: temp_ban_7d
      high: permanent_ban
      critical: permanent_ban_and_report
    keywords:
      - "nsfw"
      - "nude"
      - "sex"
      - "escort"

  age_verification:
    description: "Potential underage users"
    severity_levels:
      - low        # Borderline appearance
      - medium     # Clear indicators of being underage
      - high       # Explicit mention of being under 18
      - critical   # Solicitation of minors
    actions:
      low: request_id_verification
      medium: suspend_until_verified
      high: permanent_ban
      critical: permanent_ban_and_report
    red_flags:
      - high_school_mention
      - prom_references
      - underage_admission
      - youthful_appearance
      - parent_references
    keywords:
      - "high school"
      - "prom"
      - "17"
      - "16"
      - "parents"

# Agent configuration
agent_config:
  model: "gpt-4"
  temperature: 0.1  # Low temperature for consistent decision-making
  max_tokens: 1000
  timeout: 30  # seconds

# Vector search configuration
vector_search:
  enabled: true
  similarity_threshold: 0.75  # Minimum similarity to flag as pattern match
  max_results: 5
  collections:
    - flagged_content_embeddings
    - historical_cases

# Monitoring and metrics
monitoring:
  enable_langsmith: true
  log_level: "INFO"
  metrics_interval: 300  # Record metrics every 5 minutes
  alert_thresholds:
    escalation_rate_high: 0.3  # Alert if >30% of cases escalated
    processing_time_slow: 10   # Alert if processing >10 seconds

# Human review settings
human_review:
  max_queue_size: 1000
  priority_rules:
    critical: ["scams.critical", "age_verification.critical", "inappropriate.critical"]
    high: ["harassment.high", "scams.high"]
    medium: ["fake_profile.medium", "harassment.medium"]
    low: ["harassment.low", "inappropriate.low"]
  auto_assign: false  # Moderators manually claim cases
  sla_hours:
    urgent: 1
    high: 4
    medium: 24
    low: 72
